{"id":"anki-15g","title":"Add tests for audio extraction from .apkg files","description":"Create unit and integration tests for audio extraction functionality:\n- Test media mapping parsing\n- Test audio file extraction with correct filenames\n- Test audio reference extraction from card HTML\n- Test handling of Chinese character filenames\n- Integration test with A_Course_in_Contemporary_Chinese_1.apkg (540 files)","status":"closed","priority":2,"issue_type":"task","owner":"apposite@gmail.com","created_at":"2026-01-26T15:26:58.006699+11:00","created_by":"Bosco Ho","updated_at":"2026-01-26T23:41:10.168835+11:00","closed_at":"2026-01-26T23:41:10.168835+11:00","close_reason":"Created comprehensive test suite with 27 tests covering all audio extraction methods. Tests validate media mapping, extraction, card linking, and Chinese filename handling. All tests pass in 4.2s.","dependencies":[{"issue_id":"anki-15g","depends_on_id":"anki-sar","type":"blocks","created_at":"2026-01-26T15:27:04.855208+11:00","created_by":"Bosco Ho"}]}
{"id":"anki-4w7","title":"Export reordered Anki deck based on ranking","description":"Create new APKG with cards reordered by frequency ranking, excluding foreign names and invalid characters","status":"closed","priority":2,"issue_type":"task","owner":"apposite@gmail.com","created_at":"2026-02-06T12:05:37.698593+11:00","created_by":"Bosco Ho","updated_at":"2026-02-06T12:06:51.112948+11:00","closed_at":"2026-02-06T12:06:51.112948+11:00","close_reason":"Created reorder_deck.py script and generated ranked deck with 5001 cards (removed 8 names/invalid)"}
{"id":"anki-5y2","title":"Implement sentence ranking script for Chinese Anki decks","status":"closed","priority":2,"issue_type":"feature","owner":"apposite@gmail.com","created_at":"2026-02-06T10:20:36.251981+11:00","created_by":"Bosco Ho","updated_at":"2026-02-06T11:37:31.759456+11:00","closed_at":"2026-02-06T11:37:31.759456+11:00","close_reason":"Sentence ranking script complete: rank_sentences.py with complexity, frequency, similarity scoring"}
{"id":"anki-5y2.1","title":"Phase 1: Data extraction from Anki21b format","notes":"Read anki21b format (zstd decompress + SQLite), extract sentences from model 1733774697943, parse relevant fields into dataclass","status":"closed","priority":2,"issue_type":"task","owner":"apposite@gmail.com","created_at":"2026-02-06T11:30:37.46035+11:00","created_by":"Bosco Ho","updated_at":"2026-02-06T11:36:41.728252+11:00","closed_at":"2026-02-06T11:36:41.728252+11:00","close_reason":"Data extraction working - uses existing AnkiPackage class","dependencies":[{"issue_id":"anki-5y2.1","depends_on_id":"anki-5y2","type":"parent-child","created_at":"2026-02-06T11:30:37.461212+11:00","created_by":"Bosco Ho"}]}
{"id":"anki-5y2.2","title":"Phase 2: Load frequency data (SUBTLEX-CH, HSK vocab)","notes":"Load/download SUBTLEX-CH word frequency list, load HSK vocabulary lists, create character frequency lookup","status":"closed","priority":2,"issue_type":"task","owner":"apposite@gmail.com","created_at":"2026-02-06T11:30:39.028668+11:00","created_by":"Bosco Ho","updated_at":"2026-02-06T11:36:42.61502+11:00","closed_at":"2026-02-06T11:36:42.61502+11:00","close_reason":"Frequency data loaded from SUBTLEX-CH (99k words) and HSK vocab (5k words)","dependencies":[{"issue_id":"anki-5y2.2","depends_on_id":"anki-5y2","type":"parent-child","created_at":"2026-02-06T11:30:39.029406+11:00","created_by":"Bosco Ho"}]}
{"id":"anki-5y2.3","title":"Phase 3: Implement scoring functions (complexity, frequency)","notes":"Implement complexity_score() with char count, unique chars, word count, stroke count, HSK level. Implement frequency_score() with avg word frequency, top-N coverage, HSK coverage. Add unit tests.","status":"closed","priority":2,"issue_type":"task","owner":"apposite@gmail.com","created_at":"2026-02-06T11:30:41.233809+11:00","created_by":"Bosco Ho","updated_at":"2026-02-06T11:37:17.988467+11:00","closed_at":"2026-02-06T11:37:17.988467+11:00","close_reason":"Scoring functions implemented: complexity_score, frequency_score with fallback. 17 unit tests pass.","dependencies":[{"issue_id":"anki-5y2.3","depends_on_id":"anki-5y2","type":"parent-child","created_at":"2026-02-06T11:30:41.234533+11:00","created_by":"Bosco Ho"},{"issue_id":"anki-5y2.3","depends_on_id":"anki-5y2.1","type":"blocks","created_at":"2026-02-06T11:30:53.460936+11:00","created_by":"Bosco Ho"},{"issue_id":"anki-5y2.3","depends_on_id":"anki-5y2.2","type":"blocks","created_at":"2026-02-06T11:30:54.199697+11:00","created_by":"Bosco Ho"}]}
{"id":"anki-5y2.4","title":"Phase 4: Implement similarity analysis and penalties","notes":"Implement similarity() function using Jaccard similarity of character/word sets. Efficient batch computation avoiding O(n^2). Apply similarity penalties based on max similarity to higher-ranked sentences.","status":"closed","priority":2,"issue_type":"task","owner":"apposite@gmail.com","created_at":"2026-02-06T11:30:43.321725+11:00","created_by":"Bosco Ho","updated_at":"2026-02-06T11:37:19.34437+11:00","closed_at":"2026-02-06T11:37:19.34437+11:00","close_reason":"Similarity analysis implemented: char_similarity using Jaccard, compute_similarity_penalties with top-100 optimization","dependencies":[{"issue_id":"anki-5y2.4","depends_on_id":"anki-5y2","type":"parent-child","created_at":"2026-02-06T11:30:43.322505+11:00","created_by":"Bosco Ho"},{"issue_id":"anki-5y2.4","depends_on_id":"anki-5y2.3","type":"blocks","created_at":"2026-02-06T11:30:54.555794+11:00","created_by":"Bosco Ho"}]}
{"id":"anki-5y2.5","title":"Phase 5: Final ranking and CSV export","notes":"Combine scores with configurable weights (complexity 0.3, frequency 0.5, similarity -0.2). Sort by final score. Export to CSV with all metrics.","status":"closed","priority":2,"issue_type":"task","owner":"apposite@gmail.com","created_at":"2026-02-06T11:30:44.970362+11:00","created_by":"Bosco Ho","updated_at":"2026-02-06T11:37:25.190456+11:00","closed_at":"2026-02-06T11:37:25.190456+11:00","close_reason":"Final ranking and CSV export implemented: configurable weights, proper CSV output with all metrics","dependencies":[{"issue_id":"anki-5y2.5","depends_on_id":"anki-5y2","type":"parent-child","created_at":"2026-02-06T11:30:44.971084+11:00","created_by":"Bosco Ho"},{"issue_id":"anki-5y2.5","depends_on_id":"anki-5y2.4","type":"blocks","created_at":"2026-02-06T11:30:55.286429+11:00","created_by":"Bosco Ho"}]}
{"id":"anki-sar","title":"Implement audio extraction from .apkg files","description":"Extend AnkiReader to extract and map audio files from Anki packages. Phase 1: basic extraction with no additional dependencies.","status":"closed","priority":2,"issue_type":"feature","owner":"apposite@gmail.com","created_at":"2026-01-26T13:21:56.140968+11:00","created_by":"Bosco Ho","updated_at":"2026-01-26T15:51:27.026386+11:00","closed_at":"2026-01-26T15:51:27.026386+11:00","close_reason":"Implemented Phase 1 audio extraction: get_media_mapping(), extract_audio_files(), get_audio_for_card(), get_audio_statistics(). Tested with 538 MP3 files. Uses only stdlib, no dependencies."}
{"id":"anki-uft","title":"Add similar_to column showing index of most similar higher-ranked sentence","description":"When computing similarity penalties, track which sentence caused the penalty and add a 'similar_to' column to CSV output showing that sentence's rank/index","status":"closed","priority":2,"issue_type":"task","owner":"apposite@gmail.com","created_at":"2026-02-06T11:40:11.327229+11:00","created_by":"Bosco Ho","updated_at":"2026-02-06T11:42:33.882054+11:00","closed_at":"2026-02-06T11:42:33.882054+11:00","close_reason":"Added similar_to column showing rank of most similar higher-ranked sentence"}
